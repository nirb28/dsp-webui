import{s as ut,y as Ue,k as O,e as c,t as M,o as x,c as d,a as v,d as i,b as S,f as r,i as Ie,g as e,u as fe,z as ct,A as Be,h as J,j as lt,p as dt,q as ft,C as mt,F as ht,B as De,G as pt}from"./osRMcaoZ.js";import{S as vt,i as _t,f as We,b as me,d as he,m as pe,t as K,g as gt,a as Y,c as bt,e as ve}from"./Cz_TVcYH.js";import{T as wt}from"./B3sn4-90.js";import{t as kt}from"./CvcJvn8o.js";import{T as yt}from"./BOoEfdYa.js";import{L as Ct}from"./B0Gtueut.js";import{A as Et}from"./ORN_DGL0.js";import{u as Dt}from"./DUlFqCOB.js";import{s as It}from"./C3cxvGum.js";import{S as Vt}from"./XYvaYOQu.js";function At(t){let l,s,h,g,w,_,n,y,B,C,b=t[7].t("Access")+"",E,T,D,A,V="/",F,u,W,N,p,H;return y=new Ct({props:{strokeWidth:"2.5",className:"size-3.5"}}),{c(){l=c("div"),s=c("div"),h=c("input"),w=O(),_=c("div"),n=c("button"),me(y.$$.fragment),B=O(),C=c("div"),E=M(b),T=O(),D=c("div"),A=c("div"),A.textContent=V,F=O(),u=c("input"),this.h()},l(f){l=d(f,"DIV",{class:!0});var k=v(l);s=d(k,"DIV",{class:!0});var L=v(s);h=d(L,"INPUT",{class:!0,placeholder:!0}),w=x(L),_=d(L,"DIV",{class:!0});var j=v(_);n=d(j,"BUTTON",{class:!0,type:!0});var o=v(n);he(y.$$.fragment,o),B=x(o),C=d(o,"DIV",{class:!0});var Q=v(C);E=S(Q,b),Q.forEach(i),o.forEach(i),j.forEach(i),L.forEach(i),T=x(k),D=d(k,"DIV",{class:!0});var R=v(D);A=d(R,"DIV",{class:!0,"data-svelte-h":!0}),ht(A)!=="svelte-1x25scu"&&(A.textContent=V),F=x(R),u=d(R,"INPUT",{class:!0,placeholder:!0}),R.forEach(i),k.forEach(i),this.h()},h(){r(h,"class","text-2xl font-semibold w-full bg-transparent outline-hidden"),r(h,"placeholder",g=t[7].t("Title")),h.required=!0,r(C,"class","text-sm font-medium shrink-0"),r(n,"class","bg-gray-50 hover:bg-gray-100 text-black dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-white transition px-2 py-1 rounded-full flex gap-1 items-center"),r(n,"type","button"),r(_,"class","self-center shrink-0"),r(s,"class","flex items-center"),r(A,"class",""),r(u,"class","w-full bg-transparent outline-hidden"),r(u,"placeholder",W=t[7].t("Command")),u.required=!0,u.disabled=t[0],r(D,"class","flex gap-0.5 items-center text-xs text-gray-500"),r(l,"class","flex flex-col w-full")},m(f,k){Ie(f,l,k),e(l,s),e(s,h),De(h,t[1]),e(s,w),e(s,_),e(_,n),pe(y,n,null),e(n,B),e(n,C),e(C,E),e(l,T),e(l,D),e(D,A),e(D,F),e(D,u),De(u,t[3]),N=!0,p||(H=[fe(h,"input",t[18]),fe(n,"click",t[19]),fe(u,"input",t[20]),fe(u,"input",t[10])],p=!0)},p(f,k){(!N||k&128&&g!==(g=f[7].t("Title")))&&r(h,"placeholder",g),k&2&&h.value!==f[1]&&De(h,f[1]),(!N||k&128)&&b!==(b=f[7].t("Access")+"")&&J(E,b),(!N||k&128&&W!==(W=f[7].t("Command")))&&r(u,"placeholder",W),(!N||k&1)&&(u.disabled=f[0]),k&8&&u.value!==f[3]&&De(u,f[3])},i(f){N||(K(y.$$.fragment,f),N=!0)},o(f){Y(y.$$.fragment,f),N=!1},d(f){f&&i(l),ve(y),p=!1,pt(H)}}}function rt(t){let l,s,h;return s=new Vt({}),{c(){l=c("div"),me(s.$$.fragment),this.h()},l(g){l=d(g,"DIV",{class:!0});var w=v(l);he(s.$$.fragment,w),w.forEach(i),this.h()},h(){r(l,"class","ml-1.5 self-center")},m(g,w){Ie(g,l,w),pe(s,l,null),h=!0},i(g){h||(K(s.$$.fragment,g),h=!0)},o(g){Y(s.$$.fragment,g),h=!1},d(g){g&&i(l),ve(s)}}}function Mt(t){var Je,Ke,Qe,Xe;let l,s,h,g,w,_,n,y,B,C,b,E,T=t[7].t("Prompt Content")+"",D,A,V,F,u,W,N,p,H,f=t[7].t("Format your variables using brackets like this:")+"",k,L,j,o="{{",Q,R=t[7].t("variable")+"",_e,Le="}}",Ve,Ae,re=t[7].t("Make sure to enclose them with")+"",ge,Me,$,Re="{{",Se,Te,ne=t[7].t("and")+"",be,Ne,ee,Ge="}}",Pe,Oe,xe,te,X,oe=t[7].t("To learn more about powerful prompt variables, click here")+"",we,je,ae,z,se,ie=t[7].t("Save & Create")+"",ke,ze,ye,q,qe,He;function nt(a){t[16](a)}function ot(a){t[17](a)}let Fe={accessRoles:["read","write"],allowPublic:((Qe=(Ke=(Je=t[8])==null?void 0:Je.permissions)==null?void 0:Ke.sharing)==null?void 0:Qe.public_prompts)||((Xe=t[8])==null?void 0:Xe.role)==="admin"};t[6]!==void 0&&(Fe.show=t[6]),t[5]!==void 0&&(Fe.accessControl=t[5]),l=new Et({props:Fe}),Ue.push(()=>We(l,"show",nt)),Ue.push(()=>We(l,"accessControl",ot)),y=new yt({props:{content:`${t[7].t("Only alphanumeric characters and hyphens are allowed")} - ${t[7].t('Activate this command by typing "/{{COMMAND}}" to chat input.',{COMMAND:t[3]})}`,placement:"bottom-start",$$slots:{default:[At]},$$scope:{ctx:t}}});function it(a){t[21](a)}let Ze={className:"text-sm w-full bg-transparent outline-hidden overflow-y-hidden resize-none",placeholder:t[7].t("Write a summary in 50 words that summarizes [topic or keyword]."),rows:6,required:!0};t[4]!==void 0&&(Ze.value=t[4]),u=new wt({props:Ze}),Ue.push(()=>We(u,"value",it));let I=t[2]&&rt();return{c(){me(l.$$.fragment),g=O(),w=c("div"),_=c("form"),n=c("div"),me(y.$$.fragment),B=O(),C=c("div"),b=c("div"),E=c("div"),D=M(T),A=O(),V=c("div"),F=c("div"),me(u.$$.fragment),N=O(),p=c("div"),H=M("ⓘ "),k=M(f),L=M(" "),j=c("span"),Q=M(o),_e=M(R),Ve=M(Le),Ae=M(`.
					`),ge=M(re),Me=O(),$=c("span"),Se=M(Re),Te=O(),be=M(ne),Ne=O(),ee=c("span"),Pe=M(Ge),Oe=M("."),xe=O(),te=c("div"),X=c("a"),we=M(oe),je=O(),ae=c("div"),z=c("button"),se=c("div"),ke=M(ie),ze=O(),I&&I.c(),this.h()},l(a){he(l.$$.fragment,a),g=x(a),w=d(a,"DIV",{class:!0});var m=v(w);_=d(m,"FORM",{class:!0});var U=v(_);n=d(U,"DIV",{class:!0});var le=v(n);he(y.$$.fragment,le),le.forEach(i),B=x(U),C=d(U,"DIV",{class:!0});var Z=v(C);b=d(Z,"DIV",{class:!0});var ue=v(b);E=d(ue,"DIV",{class:!0});var ce=v(E);D=S(ce,T),ce.forEach(i),ue.forEach(i),A=x(Z),V=d(Z,"DIV",{class:!0});var G=v(V);F=d(G,"DIV",{});var de=v(F);he(u.$$.fragment,de),de.forEach(i),N=x(G),p=d(G,"DIV",{class:!0});var P=v(p);H=S(P,"ⓘ "),k=S(P,f),L=S(P," "),j=d(P,"SPAN",{class:!0});var Ce=v(j);Q=S(Ce,o),_e=S(Ce,R),Ve=S(Ce,Le),Ce.forEach(i),Ae=S(P,`.
					`),ge=S(P,re),Me=x(P),$=d(P,"SPAN",{class:!0});var Ye=v($);Se=S(Ye,Re),Ye.forEach(i),Te=x(P),be=S(P,ne),Ne=x(P),ee=d(P,"SPAN",{class:!0});var $e=v(ee);Pe=S($e,Ge),$e.forEach(i),Oe=S(P,"."),P.forEach(i),xe=x(G),te=d(G,"DIV",{class:!0});var et=v(te);X=d(et,"A",{href:!0,target:!0});var tt=v(X);we=S(tt,oe),tt.forEach(i),et.forEach(i),G.forEach(i),Z.forEach(i),je=x(U),ae=d(U,"DIV",{class:!0});var at=v(ae);z=d(at,"BUTTON",{class:!0,type:!0});var Ee=v(z);se=d(Ee,"DIV",{class:!0});var st=v(se);ke=S(st,ie),st.forEach(i),ze=x(Ee),I&&I.l(Ee),Ee.forEach(i),at.forEach(i),U.forEach(i),m.forEach(i),this.h()},h(){r(n,"class","my-2"),r(E,"class","self-center text-sm font-semibold"),r(b,"class","flex w-full justify-between"),r(j,"class","text-gray-600 dark:text-gray-300 font-medium"),r($,"class","text-gray-600 dark:text-gray-300 font-medium"),r(ee,"class","text-gray-600 dark:text-gray-300 font-medium"),r(p,"class","text-xs text-gray-400 dark:text-gray-500"),r(X,"href","https://docs.openwebui.com/features/workspace/prompts"),r(X,"target","_blank"),r(te,"class","text-xs text-gray-400 dark:text-gray-500 underline"),r(V,"class","mt-2"),r(C,"class","my-2"),r(se,"class","self-center font-medium"),r(z,"class",ye="text-sm w-full lg:w-fit px-4 py-2 transition rounded-lg "+(t[2]?" cursor-not-allowed bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black":"bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black")+" flex w-full justify-center"),r(z,"type","submit"),z.disabled=t[2],r(ae,"class","my-4 flex justify-end pb-20"),r(_,"class","flex flex-col w-full mb-10"),r(w,"class","w-full max-h-full flex justify-center")},m(a,m){pe(l,a,m),Ie(a,g,m),Ie(a,w,m),e(w,_),e(_,n),pe(y,n,null),e(_,B),e(_,C),e(C,b),e(b,E),e(E,D),e(C,A),e(C,V),e(V,F),pe(u,F,null),e(V,N),e(V,p),e(p,H),e(p,k),e(p,L),e(p,j),e(j,Q),e(j,_e),e(j,Ve),e(p,Ae),e(p,ge),e(p,Me),e(p,$),e($,Se),e(p,Te),e(p,be),e(p,Ne),e(p,ee),e(ee,Pe),e(p,Oe),e(V,xe),e(V,te),e(te,X),e(X,we),e(_,je),e(_,ae),e(ae,z),e(z,se),e(se,ke),e(z,ze),I&&I.m(z,null),q=!0,qe||(He=fe(_,"submit",ct(t[22])),qe=!0)},p(a,[m]){var ue,ce,G,de;const U={};m&256&&(U.allowPublic=((G=(ce=(ue=a[8])==null?void 0:ue.permissions)==null?void 0:ce.sharing)==null?void 0:G.public_prompts)||((de=a[8])==null?void 0:de.role)==="admin"),!s&&m&64&&(s=!0,U.show=a[6],Be(()=>s=!1)),!h&&m&32&&(h=!0,U.accessControl=a[5],Be(()=>h=!1)),l.$set(U);const le={};m&136&&(le.content=`${a[7].t("Only alphanumeric characters and hyphens are allowed")} - ${a[7].t('Activate this command by typing "/{{COMMAND}}" to chat input.',{COMMAND:a[3]})}`),m&16777419&&(le.$$scope={dirty:m,ctx:a}),y.$set(le),(!q||m&128)&&T!==(T=a[7].t("Prompt Content")+"")&&J(D,T);const Z={};m&128&&(Z.placeholder=a[7].t("Write a summary in 50 words that summarizes [topic or keyword].")),!W&&m&16&&(W=!0,Z.value=a[4],Be(()=>W=!1)),u.$set(Z),(!q||m&128)&&f!==(f=a[7].t("Format your variables using brackets like this:")+"")&&J(k,f),(!q||m&128)&&R!==(R=a[7].t("variable")+"")&&J(_e,R),(!q||m&128)&&re!==(re=a[7].t("Make sure to enclose them with")+"")&&J(ge,re),(!q||m&128)&&ne!==(ne=a[7].t("and")+"")&&J(be,ne),(!q||m&128)&&oe!==(oe=a[7].t("To learn more about powerful prompt variables, click here")+"")&&J(we,oe),(!q||m&128)&&ie!==(ie=a[7].t("Save & Create")+"")&&J(ke,ie),a[2]?I?m&4&&K(I,1):(I=rt(),I.c(),K(I,1),I.m(z,null)):I&&(gt(),Y(I,1,1,()=>{I=null}),bt()),(!q||m&4&&ye!==(ye="text-sm w-full lg:w-fit px-4 py-2 transition rounded-lg "+(a[2]?" cursor-not-allowed bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black":"bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black")+" flex w-full justify-center"))&&r(z,"class",ye),(!q||m&4)&&(z.disabled=a[2])},i(a){q||(K(l.$$.fragment,a),K(y.$$.fragment,a),K(u.$$.fragment,a),K(I),q=!0)},o(a){Y(l.$$.fragment,a),Y(y.$$.fragment,a),Y(u.$$.fragment,a),Y(I),q=!1},d(a){a&&(i(g),i(w)),ve(l,a),ve(y),ve(u),I&&I.d(),qe=!1,He()}}}function St(t,l,s){let h,g;lt(t,Dt,o=>s(8,g=o));let{onSubmit:w}=l,{edit:_=!1}=l,{prompt:n=null}=l,{clone:y=!1}=l;const B=dt("i18n");lt(t,B,o=>s(7,h=o));let C=!1,b="",E="",T="",D={},A=!1,V=!1;function F(o){s(15,V=!0)}const u=async()=>{s(2,C=!0),W(E)?await w({title:b,command:E,content:T,access_control:D}):kt.error(h.t("Only alphanumeric characters and hyphens are allowed in the command string.")),s(2,C=!1)},W=o=>/^[a-zA-Z0-9-]+$/.test(o);ft(async()=>{n&&(s(1,b=n.title),await mt(),s(3,E=n.command.at(0)==="/"?n.command.slice(1):n.command),s(4,T=n.content),s(5,D=(n==null?void 0:n.access_control)===void 0?{}:n==null?void 0:n.access_control))});function N(o){A=o,s(6,A)}function p(o){D=o,s(5,D)}function H(){b=this.value,s(1,b)}const f=()=>{s(6,A=!0)};function k(){E=this.value,s(3,E),s(0,_),s(15,V),s(1,b)}function L(o){T=o,s(4,T)}const j=()=>{u()};return t.$$set=o=>{"onSubmit"in o&&s(12,w=o.onSubmit),"edit"in o&&s(0,_=o.edit),"prompt"in o&&s(13,n=o.prompt),"clone"in o&&s(14,y=o.clone)},t.$$.update=()=>{t.$$.dirty&32771&&!_&&!V&&s(3,E=b!==""?It(b):"")},[_,b,C,E,T,D,A,h,g,B,F,u,w,n,y,V,N,p,H,f,k,L,j]}class Bt extends vt{constructor(l){super(),_t(this,l,St,Mt,ut,{onSubmit:12,edit:0,prompt:13,clone:14})}}export{Bt as P};
//# sourceMappingURL=B0Sks5wF.js.map
