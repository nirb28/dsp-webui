import{s as nl,e as g,t as P,k as S,c as v,a as k,b as F,d as _,o as C,f as h,i as j,g as c,h as U,p as rl,j as Xe,q as Sl,S as Ot,l as Tl,C as Tn,u as ee,G as Cl,F as ll,n as jt,y as Me,B as Ye,z as Sn,A as Ge,K as Cn,R as Ls,T as Nn,Z as $l}from"./osRMcaoZ.js";import{S as al,i as il,t as V,g as fe,a as N,c as ue,b as K,d as X,m as Y,e as Q,f as Ke}from"./Cz_TVcYH.js";import{e as ve}from"./DCwEHxc-.js";import{m as An,u as jn,t as Rs,f as qs,k as On,e as sl}from"./DUlFqCOB.js";import{K as Mn,A as Bn}from"./Dwz7WGHO.js";import{T as Pn}from"./pvJazfKD.js";import{C as Nl}from"./V4NzNuWG.js";import{T as xl}from"./BOoEfdYa.js";import{m as Fn}from"./C3cxvGum.js";import{T as bn}from"./B3sn4-90.js";import{g as Un}from"./C16yeCz_.js";import{g as zn}from"./DYXaXl2Z.js";import{g as Hn}from"./De02jSZN.js";import{A as Ln}from"./BkNsFH9P.js";import"./CC1-id2V.js";import{t as Ws}from"./CvcJvn8o.js";import{S as Rn}from"./XYvaYOQu.js";import{X as qn}from"./YHUoul5_.js";function Js(n,e,t){const l=n.slice();return l[6]=e[t],l[8]=t,l}function Zs(n){let e,t,l=ve(Object.keys(n[2])),s=[];for(let r=0;r<l.length;r+=1)s[r]=Gs(Js(n,l,r));const i=r=>N(s[r],1,1,()=>{s[r]=null});return{c(){e=g("div");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){e=v(r,"DIV",{class:!0});var o=k(e);for(let a=0;a<s.length;a+=1)s[a].l(o);o.forEach(_),this.h()},h(){h(e,"class","flex items-center mt-2 flex-wrap")},m(r,o){j(r,e,o);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);t=!0},p(r,o){if(o&5){l=ve(Object.keys(r[2]));let a;for(a=0;a<l.length;a+=1){const u=Js(r,l,a);s[a]?(s[a].p(u,o),V(s[a],1)):(s[a]=Gs(u),s[a].c(),V(s[a],1),s[a].m(e,null))}for(fe(),a=l.length;a<s.length;a+=1)i(a);ue()}},i(r){if(!t){for(let o=0;o<l.length;o+=1)V(s[o]);t=!0}},o(r){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)N(s[o]);t=!1},d(r){r&&_(e),Ot(s,r)}}}function Gs(n){let e,t,l,s,i,r=n[2][n[6]].name+"",o,a,u;function d(...f){return n[5](n[6],...f)}return l=new Nl({props:{state:n[2][n[6]].selected?"checked":"unchecked"}}),l.$on("change",d),{c(){e=g("div"),t=g("div"),K(l.$$.fragment),s=S(),i=g("div"),o=P(r),a=S(),this.h()},l(f){e=v(f,"DIV",{class:!0});var w=k(e);t=v(w,"DIV",{class:!0});var m=k(t);X(l.$$.fragment,m),m.forEach(_),s=C(w),i=v(w,"DIV",{class:!0});var b=k(i);o=F(b,r),b.forEach(_),a=C(w),w.forEach(_),this.h()},h(){h(t,"class","self-center flex items-center"),h(i,"class","py-0.5 text-sm w-full capitalize font-medium"),h(e,"class","flex items-center gap-2 mr-3")},m(f,w){j(f,e,w),c(e,t),Y(l,t,null),c(e,s),c(e,i),c(i,o),c(e,a),u=!0},p(f,w){n=f;const m={};w&4&&(m.state=n[2][n[6]].selected?"checked":"unchecked"),l.$set(m),(!u||w&4)&&r!==(r=n[2][n[6]].name+"")&&U(o,r)},i(f){u||(V(l.$$.fragment,f),u=!0)},o(f){N(l.$$.fragment,f),u=!1},d(f){f&&_(e),Q(l)}}}function Wn(n){let e,t,l,s=n[3].t("Tools")+"",i,r,o,a=n[3].t('To select toolkits here, add them to the "Tools" workspace first.')+"",u,d,f,w,m=n[1].length>0&&Zs(n);return{c(){e=g("div"),t=g("div"),l=g("div"),i=P(s),r=S(),o=g("div"),u=P(a),d=S(),f=g("div"),m&&m.c(),this.h()},l(b){e=v(b,"DIV",{});var D=k(e);t=v(D,"DIV",{class:!0});var y=k(t);l=v(y,"DIV",{class:!0});var A=k(l);i=F(A,s),A.forEach(_),y.forEach(_),r=C(D),o=v(D,"DIV",{class:!0});var z=k(o);u=F(z,a),z.forEach(_),d=C(D),f=v(D,"DIV",{class:!0});var L=k(f);m&&m.l(L),L.forEach(_),D.forEach(_),this.h()},h(){h(l,"class","self-center text-sm font-semibold"),h(t,"class","flex w-full justify-between mb-1"),h(o,"class","text-xs dark:text-gray-500"),h(f,"class","flex flex-col")},m(b,D){j(b,e,D),c(e,t),c(t,l),c(l,i),c(e,r),c(e,o),c(o,u),c(e,d),c(e,f),m&&m.m(f,null),w=!0},p(b,[D]){(!w||D&8)&&s!==(s=b[3].t("Tools")+"")&&U(i,s),(!w||D&8)&&a!==(a=b[3].t('To select toolkits here, add them to the "Tools" workspace first.')+"")&&U(u,a),b[1].length>0?m?(m.p(b,D),D&2&&V(m,1)):(m=Zs(b),m.c(),V(m,1),m.m(f,null)):m&&(fe(),N(m,1,1,()=>{m=null}),ue())},i(b){w||(V(m),w=!0)},o(b){N(m),w=!1},d(b){b&&_(e),m&&m.d()}}}function Jn(n,e,t){let l,{tools:s=[]}=e,i={},{selectedToolIds:r=[]}=e;const o=rl("i18n");Xe(n,o,u=>t(3,l=u)),Sl(()=>{t(2,i=s.reduce((u,d)=>(u[d.id]={...d,selected:r.includes(d.id)},u),{}))});const a=(u,d)=>{t(2,i[u].selected=d.detail==="checked",i),t(0,r=Object.keys(i).filter(f=>i[f].selected))};return n.$$set=u=>{"tools"in u&&t(1,s=u.tools),"selectedToolIds"in u&&t(0,r=u.selectedToolIds)},[r,s,i,l,o,a]}class Zn extends al{constructor(e){super(),il(this,e,Jn,Wn,nl,{tools:1,selectedToolIds:0})}}function Ks(n,e,t){const l=n.slice();return l[6]=e[t],l[8]=t,l}function Xs(n){let e,t,l=ve(Object.keys(n[2])),s=[];for(let r=0;r<l.length;r+=1)s[r]=Ys(Ks(n,l,r));const i=r=>N(s[r],1,1,()=>{s[r]=null});return{c(){e=g("div");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){e=v(r,"DIV",{class:!0});var o=k(e);for(let a=0;a<s.length;a+=1)s[a].l(o);o.forEach(_),this.h()},h(){h(e,"class","flex items-center mt-2 flex-wrap")},m(r,o){j(r,e,o);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);t=!0},p(r,o){if(o&5){l=ve(Object.keys(r[2]));let a;for(a=0;a<l.length;a+=1){const u=Ks(r,l,a);s[a]?(s[a].p(u,o),V(s[a],1)):(s[a]=Ys(u),s[a].c(),V(s[a],1),s[a].m(e,null))}for(fe(),a=l.length;a<s.length;a+=1)i(a);ue()}},i(r){if(!t){for(let o=0;o<l.length;o+=1)V(s[o]);t=!0}},o(r){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)N(s[o]);t=!1},d(r){r&&_(e),Ot(s,r)}}}function Gn(n){let e=n[2][n[6]].name+"",t;return{c(){t=P(e)},l(l){t=F(l,e)},m(l,s){j(l,t,s)},p(l,s){s&4&&e!==(e=l[2][l[6]].name+"")&&U(t,e)},d(l){l&&_(t)}}}function Ys(n){let e,t,l,s,i,r,o,a;function u(...d){return n[5](n[6],...d)}return l=new Nl({props:{state:n[2][n[6]].is_global||n[2][n[6]].selected?"checked":"unchecked",disabled:n[2][n[6]].is_global}}),l.$on("change",u),r=new xl({props:{content:n[2][n[6]].meta.description,$$slots:{default:[Gn]},$$scope:{ctx:n}}}),{c(){e=g("div"),t=g("div"),K(l.$$.fragment),s=S(),i=g("div"),K(r.$$.fragment),o=S(),this.h()},l(d){e=v(d,"DIV",{class:!0});var f=k(e);t=v(f,"DIV",{class:!0});var w=k(t);X(l.$$.fragment,w),w.forEach(_),s=C(f),i=v(f,"DIV",{class:!0});var m=k(i);X(r.$$.fragment,m),m.forEach(_),o=C(f),f.forEach(_),this.h()},h(){h(t,"class","self-center flex items-center"),h(i,"class","py-0.5 text-sm w-full capitalize font-medium"),h(e,"class","flex items-center gap-2 mr-3")},m(d,f){j(d,e,f),c(e,t),Y(l,t,null),c(e,s),c(e,i),Y(r,i,null),c(e,o),a=!0},p(d,f){n=d;const w={};f&4&&(w.state=n[2][n[6]].is_global||n[2][n[6]].selected?"checked":"unchecked"),f&4&&(w.disabled=n[2][n[6]].is_global),l.$set(w);const m={};f&4&&(m.content=n[2][n[6]].meta.description),f&516&&(m.$$scope={dirty:f,ctx:n}),r.$set(m)},i(d){a||(V(l.$$.fragment,d),V(r.$$.fragment,d),a=!0)},o(d){N(l.$$.fragment,d),N(r.$$.fragment,d),a=!1},d(d){d&&_(e),Q(l),Q(r)}}}function Kn(n){let e,t,l,s=n[3].t("Filters")+"",i,r,o,a=n[3].t('To select filters here, add them to the "Functions" workspace first.')+"",u,d,f,w,m=n[1].length>0&&Xs(n);return{c(){e=g("div"),t=g("div"),l=g("div"),i=P(s),r=S(),o=g("div"),u=P(a),d=S(),f=g("div"),m&&m.c(),this.h()},l(b){e=v(b,"DIV",{});var D=k(e);t=v(D,"DIV",{class:!0});var y=k(t);l=v(y,"DIV",{class:!0});var A=k(l);i=F(A,s),A.forEach(_),y.forEach(_),r=C(D),o=v(D,"DIV",{class:!0});var z=k(o);u=F(z,a),z.forEach(_),d=C(D),f=v(D,"DIV",{class:!0});var L=k(f);m&&m.l(L),L.forEach(_),D.forEach(_),this.h()},h(){h(l,"class","self-center text-sm font-semibold"),h(t,"class","flex w-full justify-between mb-1"),h(o,"class","text-xs dark:text-gray-500"),h(f,"class","flex flex-col")},m(b,D){j(b,e,D),c(e,t),c(t,l),c(l,i),c(e,r),c(e,o),c(o,u),c(e,d),c(e,f),m&&m.m(f,null),w=!0},p(b,[D]){(!w||D&8)&&s!==(s=b[3].t("Filters")+"")&&U(i,s),(!w||D&8)&&a!==(a=b[3].t('To select filters here, add them to the "Functions" workspace first.')+"")&&U(u,a),b[1].length>0?m?(m.p(b,D),D&2&&V(m,1)):(m=Xs(b),m.c(),V(m,1),m.m(f,null)):m&&(fe(),N(m,1,1,()=>{m=null}),ue())},i(b){w||(V(m),w=!0)},o(b){N(m),w=!1},d(b){b&&_(e),m&&m.d()}}}function Xn(n,e,t){let l;const s=rl("i18n");Xe(n,s,u=>t(3,l=u));let{filters:i=[]}=e,{selectedFilterIds:r=[]}=e,o={};Sl(()=>{t(2,o=i.reduce((u,d)=>(u[d.id]={...d,selected:r.includes(d.id)},u),{}))});const a=(u,d)=>{o[u].is_global||(t(2,o[u].selected=d.detail==="checked",o),t(0,r=Object.keys(o).filter(f=>o[f].selected)))};return n.$$set=u=>{"filters"in u&&t(1,i=u.filters),"selectedFilterIds"in u&&t(0,r=u.selectedFilterIds)},[r,i,o,l,s,a]}class Yn extends al{constructor(e){super(),il(this,e,Xn,Kn,nl,{filters:1,selectedFilterIds:0})}}function Qs(n,e,t){const l=n.slice();return l[6]=e[t],l[8]=t,l}function $s(n){let e,t,l=ve(Object.keys(n[2])),s=[];for(let r=0;r<l.length;r+=1)s[r]=xs(Qs(n,l,r));const i=r=>N(s[r],1,1,()=>{s[r]=null});return{c(){e=g("div");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){e=v(r,"DIV",{class:!0});var o=k(e);for(let a=0;a<s.length;a+=1)s[a].l(o);o.forEach(_),this.h()},h(){h(e,"class","flex items-center mt-2 flex-wrap")},m(r,o){j(r,e,o);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);t=!0},p(r,o){if(o&5){l=ve(Object.keys(r[2]));let a;for(a=0;a<l.length;a+=1){const u=Qs(r,l,a);s[a]?(s[a].p(u,o),V(s[a],1)):(s[a]=xs(u),s[a].c(),V(s[a],1),s[a].m(e,null))}for(fe(),a=l.length;a<s.length;a+=1)i(a);ue()}},i(r){if(!t){for(let o=0;o<l.length;o+=1)V(s[o]);t=!0}},o(r){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)N(s[o]);t=!1},d(r){r&&_(e),Ot(s,r)}}}function Qn(n){let e=n[2][n[6]].name+"",t;return{c(){t=P(e)},l(l){t=F(l,e)},m(l,s){j(l,t,s)},p(l,s){s&4&&e!==(e=l[2][l[6]].name+"")&&U(t,e)},d(l){l&&_(t)}}}function xs(n){let e,t,l,s,i,r,o,a;function u(...d){return n[5](n[6],...d)}return l=new Nl({props:{state:n[2][n[6]].selected?"checked":"unchecked"}}),l.$on("change",u),r=new xl({props:{content:n[2][n[6]].meta.description,$$slots:{default:[Qn]},$$scope:{ctx:n}}}),{c(){e=g("div"),t=g("div"),K(l.$$.fragment),s=S(),i=g("div"),K(r.$$.fragment),o=S(),this.h()},l(d){e=v(d,"DIV",{class:!0});var f=k(e);t=v(f,"DIV",{class:!0});var w=k(t);X(l.$$.fragment,w),w.forEach(_),s=C(f),i=v(f,"DIV",{class:!0});var m=k(i);X(r.$$.fragment,m),m.forEach(_),o=C(f),f.forEach(_),this.h()},h(){h(t,"class","self-center flex items-center"),h(i,"class","py-0.5 text-sm w-full capitalize font-medium"),h(e,"class","flex items-center gap-2 mr-3")},m(d,f){j(d,e,f),c(e,t),Y(l,t,null),c(e,s),c(e,i),Y(r,i,null),c(e,o),a=!0},p(d,f){n=d;const w={};f&4&&(w.state=n[2][n[6]].selected?"checked":"unchecked"),l.$set(w);const m={};f&4&&(m.content=n[2][n[6]].meta.description),f&516&&(m.$$scope={dirty:f,ctx:n}),r.$set(m)},i(d){a||(V(l.$$.fragment,d),V(r.$$.fragment,d),a=!0)},o(d){N(l.$$.fragment,d),N(r.$$.fragment,d),a=!1},d(d){d&&_(e),Q(l),Q(r)}}}function $n(n){let e,t,l,s=n[3].t("Actions")+"",i,r,o,a=n[3].t('To select actions here, add them to the "Functions" workspace first.')+"",u,d,f,w,m=n[1].length>0&&$s(n);return{c(){e=g("div"),t=g("div"),l=g("div"),i=P(s),r=S(),o=g("div"),u=P(a),d=S(),f=g("div"),m&&m.c(),this.h()},l(b){e=v(b,"DIV",{});var D=k(e);t=v(D,"DIV",{class:!0});var y=k(t);l=v(y,"DIV",{class:!0});var A=k(l);i=F(A,s),A.forEach(_),y.forEach(_),r=C(D),o=v(D,"DIV",{class:!0});var z=k(o);u=F(z,a),z.forEach(_),d=C(D),f=v(D,"DIV",{class:!0});var L=k(f);m&&m.l(L),L.forEach(_),D.forEach(_),this.h()},h(){h(l,"class","self-center text-sm font-semibold"),h(t,"class","flex w-full justify-between mb-1"),h(o,"class","text-xs dark:text-gray-500"),h(f,"class","flex flex-col")},m(b,D){j(b,e,D),c(e,t),c(t,l),c(l,i),c(e,r),c(e,o),c(o,u),c(e,d),c(e,f),m&&m.m(f,null),w=!0},p(b,[D]){(!w||D&8)&&s!==(s=b[3].t("Actions")+"")&&U(i,s),(!w||D&8)&&a!==(a=b[3].t('To select actions here, add them to the "Functions" workspace first.')+"")&&U(u,a),b[1].length>0?m?(m.p(b,D),D&2&&V(m,1)):(m=$s(b),m.c(),V(m,1),m.m(f,null)):m&&(fe(),N(m,1,1,()=>{m=null}),ue())},i(b){w||(V(m),w=!0)},o(b){N(m),w=!1},d(b){b&&_(e),m&&m.d()}}}function xn(n,e,t){let l;const s=rl("i18n");Xe(n,s,u=>t(3,l=u));let{actions:i=[]}=e,{selectedActionIds:r=[]}=e,o={};Sl(()=>{t(2,o=i.reduce((u,d)=>(u[d.id]={...d,selected:r.includes(d.id)},u),{}))});const a=(u,d)=>{t(2,o[u].selected=d.detail==="checked",o),t(0,r=Object.keys(o).filter(f=>o[f].selected))};return n.$$set=u=>{"actions"in u&&t(1,i=u.actions),"selectedActionIds"in u&&t(0,r=u.selectedActionIds)},[r,i,o,l,s,a]}class er extends al{constructor(e){super(),il(this,e,xn,$n,nl,{actions:1,selectedActionIds:0})}}function en(n,e,t){const l=n.slice();return l[5]=e[t],l}function tr(n){let e=n[1].t(n[3][n[5]].label)+"",t;return{c(){t=P(e)},l(l){t=F(l,e)},m(l,s){j(l,t,s)},p(l,s){s&2&&e!==(e=l[1].t(l[3][l[5]].label)+"")&&U(t,e)},d(l){l&&_(t)}}}function tn(n){let e,t,l,s,i,r,o;function a(...u){return n[4](n[5],...u)}return t=new Nl({props:{state:n[0][n[5]]?"checked":"unchecked"}}),t.$on("change",a),i=new xl({props:{content:Fn.parse(n[3][n[5]].description),$$slots:{default:[tr]},$$scope:{ctx:n}}}),{c(){e=g("div"),K(t.$$.fragment),l=S(),s=g("div"),K(i.$$.fragment),r=S(),this.h()},l(u){e=v(u,"DIV",{class:!0});var d=k(e);X(t.$$.fragment,d),l=C(d),s=v(d,"DIV",{class:!0});var f=k(s);X(i.$$.fragment,f),f.forEach(_),r=C(d),d.forEach(_),this.h()},h(){h(s,"class","py-0.5 text-sm capitalize"),h(e,"class","flex items-center gap-2 mr-3")},m(u,d){j(u,e,d),Y(t,e,null),c(e,l),c(e,s),Y(i,s,null),c(e,r),o=!0},p(u,d){n=u;const f={};d&1&&(f.state=n[0][n[5]]?"checked":"unchecked"),t.$set(f);const w={};d&258&&(w.$$scope={dirty:d,ctx:n}),i.$set(w)},i(u){o||(V(t.$$.fragment,u),V(i.$$.fragment,u),o=!0)},o(u){N(t.$$.fragment,u),N(i.$$.fragment,u),o=!1},d(u){u&&_(e),Q(t),Q(i)}}}function lr(n){let e,t,l,s=n[1].t("Capabilities")+"",i,r,o,a,u=ve(Object.keys(n[3])),d=[];for(let w=0;w<u.length;w+=1)d[w]=tn(en(n,u,w));const f=w=>N(d[w],1,1,()=>{d[w]=null});return{c(){e=g("div"),t=g("div"),l=g("div"),i=P(s),r=S(),o=g("div");for(let w=0;w<d.length;w+=1)d[w].c();this.h()},l(w){e=v(w,"DIV",{});var m=k(e);t=v(m,"DIV",{class:!0});var b=k(t);l=v(b,"DIV",{class:!0});var D=k(l);i=F(D,s),D.forEach(_),b.forEach(_),r=C(m),o=v(m,"DIV",{class:!0});var y=k(o);for(let A=0;A<d.length;A+=1)d[A].l(y);y.forEach(_),m.forEach(_),this.h()},h(){h(l,"class","self-center text-sm font-semibold"),h(t,"class","flex w-full justify-between mb-1"),h(o,"class","flex items-center mt-2 flex-wrap")},m(w,m){j(w,e,m),c(e,t),c(t,l),c(l,i),c(e,r),c(e,o);for(let b=0;b<d.length;b+=1)d[b]&&d[b].m(o,null);a=!0},p(w,[m]){if((!a||m&2)&&s!==(s=w[1].t("Capabilities")+"")&&U(i,s),m&11){u=ve(Object.keys(w[3]));let b;for(b=0;b<u.length;b+=1){const D=en(w,u,b);d[b]?(d[b].p(D,m),V(d[b],1)):(d[b]=tn(D),d[b].c(),V(d[b],1),d[b].m(o,null))}for(fe(),b=u.length;b<d.length;b+=1)f(b);ue()}},i(w){if(!a){for(let m=0;m<u.length;m+=1)V(d[m]);a=!0}},o(w){d=d.filter(Boolean);for(let m=0;m<d.length;m+=1)N(d[m]);a=!1},d(w){w&&_(e),Ot(d,w)}}}function sr(n,e,t){let l;const s=rl("i18n");Xe(n,s,a=>t(1,l=a));const i={vision:{label:l.t("Vision"),description:l.t("Model accepts image inputs")},file_upload:{label:l.t("File Upload"),description:l.t("Model accepts file inputs")},web_search:{label:l.t("Web Search"),description:l.t("Model can search the web for information")},image_generation:{label:l.t("Image Generation"),description:l.t("Model can generate images based on text prompts")},code_interpreter:{label:l.t("Code Interpreter"),description:l.t("Model can execute code and perform calculations")},usage:{label:l.t("Usage"),description:l.t("Sends `stream_options: { include_usage: true }` in the request.\nSupported providers will return token usage information in the response when set.")},citations:{label:l.t("Citations"),description:l.t("Displays citations in the response")}};let{capabilities:r={}}=e;const o=(a,u)=>{t(0,r[a]=u.detail==="checked",r)};return n.$$set=a=>{"capabilities"in a&&t(0,r=a.capabilities)},[r,l,s,i,o]}class nr extends al{constructor(e){super(),il(this,e,sr,lr,nl,{capabilities:0})}}function ln(n,e,t){const l=n.slice();return l[62]=e[t],l[63]=e,l[64]=t,l}function sn(n,e,t){const l=n.slice();return l[0]=e[t],l}function nn(n){let e,t,l,s,i,r,o,a=n[1]&&rn(n),u=(!n[2]||n[2]&&n[0])&&an(n);return{c(){a&&a.c(),e=S(),t=g("div"),l=g("input"),s=S(),u&&u.c(),this.h()},l(d){a&&a.l(d),e=C(d),t=v(d,"DIV",{class:!0});var f=k(t);l=v(f,"INPUT",{type:!0,accept:!0}),s=C(f),u&&u.l(f),f.forEach(_),this.h()},h(){h(l,"type","file"),l.hidden=!0,h(l,"accept","image/*"),h(t,"class","w-full max-h-full flex justify-center")},m(d,f){a&&a.m(d,f),j(d,e,f),j(d,t,f),c(t,l),n[32](l),c(t,s),u&&u.m(t,null),i=!0,r||(o=[ee(l,"change",n[33]),ee(l,"change",n[34])],r=!0)},p(d,f){d[1]?a?a.p(d,f):(a=rn(d),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),!d[2]||d[2]&&d[0]?u?(u.p(d,f),f[0]&5&&V(u,1)):(u=an(d),u.c(),V(u,1),u.m(t,null)):u&&(fe(),N(u,1,1,()=>{u=null}),ue())},i(d){i||(V(u),i=!0)},o(d){N(u),i=!1},d(d){d&&(_(e),_(t)),a&&a.d(d),n[32](null),u&&u.d(),r=!1,Cl(o)}}}function rn(n){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="h-4 w-4"><path fill-rule="evenodd" d="M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z" clip-rule="evenodd"></path></svg>',s,i,r="Back",o,a,u;return{c(){e=g("button"),t=g("div"),t.innerHTML=l,s=S(),i=g("div"),o=P(r),this.h()},l(d){e=v(d,"BUTTON",{class:!0});var f=k(e);t=v(f,"DIV",{class:!0,"data-svelte-h":!0}),ll(t)!=="svelte-fdogea"&&(t.innerHTML=l),s=C(f),i=v(f,"DIV",{class:!0});var w=k(i);o=F(w,r),w.forEach(_),f.forEach(_),this.h()},h(){h(t,"class","self-center"),h(i,"class","self-center text-sm font-medium"),h(e,"class","flex space-x-1")},m(d,f){j(d,e,f),c(e,t),c(e,s),c(e,i),c(i,o),a||(u=ee(e,"click",n[31]),a=!0)},p:jt,d(d){d&&_(e),a=!1,u()}}}function an(n){var hs,ms,ps,gs,vs,bs,ks,ws,Is,Es;let e,t,l,s,i,r,o='<div class="m-1.5"><div class="shadow-xl p-1 rounded-full border-2 border-white bg-gray-800 text-white group-hover:bg-gray-600 transition dark:border-black dark:bg-white dark:group-hover:bg-gray-200 dark:text-black"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-5"><path fill-rule="evenodd" d="M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm10.5 5.707a.5.5 0 0 0-.146-.353l-1-1a.5.5 0 0 0-.708 0L9.354 9.646a.5.5 0 0 1-.708 0L6.354 7.354a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0-.146.353V12a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V9.707ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z" clip-rule="evenodd"></path></svg></div></div>',a,u,d,f,w,m,b="Reset Image",D,y,A,z,L,H,$,Be,he,E,B,ie,Ne,be,te,oe,de,Qe=n[23].t("Description")+"",ct,Mt,ce,pt,gt,Bt,Pt,$e,xe,ge,Ft,et,tt,ke,Ut,zt,vt,Ht,Ae,lt,st,ft=n[23].t("Model Params")+"",bt,Lt,me,je,nt,ut=n[23].t("System Prompt")+"",kt,Rt,dt,I,R,le,q,se,Oe=n[23].t("Advanced Params")+"",we,Ie,M,_e,qt,wt,Al,Pe,Fe,rt,It,Wt=n[23].t("Prompt suggestions")+"",ol,jl,Ue,Ol,Ml,Bl,cl,Pl,Et,ze,Fl,Ul,Dt,He,zl,Hl,yt,Le,Ll,Rl,Vt,Re,ql,Wl,Tt,qe,Jl,Zl,We,at,St,Jt=n[23].t("JSON Preview")+"",fl,Gl,Je,Kl,Xl,Ct,pe,_t,Yl,ul,x,Ql,es;function ts(p,T){return p[14].meta.profile_image_url?ar:rr}let dl=ts(n),Ee=dl(n),ne=n[3]&&on(n);function ls(p,T){return p[12]?ir:or}let _l=ls(n),De=_l(n),W=n[12]&&fn(n);ge=new Pn({props:{tags:((ms=(hs=n[14])==null?void 0:hs.meta)==null?void 0:ms.tags)??[]}}),ge.$on("delete",n[44]),ge.$on("add",n[45]);function kn(p){n[46](p)}let ss={accessRoles:["read","write"],allowPublic:((vs=(gs=(ps=n[24])==null?void 0:ps.permissions)==null?void 0:gs.sharing)==null?void 0:vs.public_models)||((bs=n[24])==null?void 0:bs.role)==="admin"};n[21]!==void 0&&(ss.accessControl=n[21]),ke=new Ln({props:ss}),Me.push(()=>Ke(ke,"accessControl",kn));function wn(p){n[47](p)}let ns={className:" text-sm w-full bg-transparent outline-hidden resize-none overflow-y-hidden ",placeholder:`Write your model system prompt content here
e.g.) You are Mario from Super Mario Bros, acting as an assistant.`,rows:4};n[13]!==void 0&&(ns.value=n[13]),I=new bn({props:ns}),Me.push(()=>Ke(I,"value",wn));function rs(p,T){return p[8]?fr:cr}let hl=rs(n),ye=hl(n),J=n[8]&&un(n);function as(p,T){var it,Ce;return(((Ce=(it=p[14])==null?void 0:it.meta)==null?void 0:Ce.suggestion_prompts)??null)===null?dr:ur}let ml=as(n),Ve=ml(n),re=(((ws=(ks=n[14])==null?void 0:ks.meta)==null?void 0:ws.suggestion_prompts)??null)!==null&&dn(n),Z=((Es=(Is=n[14])==null?void 0:Is.meta)==null?void 0:Es.suggestion_prompts)&&_n(n);function In(p){n[54](p)}let is={};n[17]!==void 0&&(is.selectedItems=n[17]),ze=new Mn({props:is}),Me.push(()=>Ke(ze,"selectedItems",In));function En(p){n[55](p)}let os={tools:n[25]};n[18]!==void 0&&(os.selectedToolIds=n[18]),He=new Zn({props:os}),Me.push(()=>Ke(He,"selectedToolIds",En));function Dn(p){n[56](p)}let cs={filters:n[26].filter(gn)};n[19]!==void 0&&(cs.selectedFilterIds=n[19]),Le=new Yn({props:cs}),Me.push(()=>Ke(Le,"selectedFilterIds",Dn));function yn(p){n[57](p)}let fs={actions:n[26].filter(vn)};n[20]!==void 0&&(fs.selectedActionIds=n[20]),Re=new er({props:fs}),Me.push(()=>Ke(Re,"selectedActionIds",yn));function Vn(p){n[58](p)}let us={};n[16]!==void 0&&(us.capabilities=n[16]),qe=new nr({props:us}),Me.push(()=>Ke(qe,"capabilities",Vn));function ds(p,T){return p[9]?pr:mr}let pl=ds(n),Te=pl(n),ae=n[9]&&mn(n);function _s(p,T){return p[2]?vr:gr}let gl=_s(n),Se=gl(n),G=n[5]&&pn();return{c(){e=g("form"),t=g("div"),l=g("div"),s=g("button"),Ee.c(),i=S(),r=g("div"),r.innerHTML=o,a=S(),u=g("div"),f=S(),w=g("div"),m=g("button"),m.textContent=b,D=S(),y=g("div"),A=g("div"),z=g("div"),L=g("div"),H=g("input"),Be=S(),he=g("div"),E=g("div"),B=g("input"),Ne=S(),ne&&ne.c(),be=S(),te=g("div"),oe=g("div"),de=g("div"),ct=P(Qe),Mt=S(),ce=g("button"),De.c(),Bt=S(),W&&W.c(),Pt=S(),$e=g("div"),xe=g("div"),K(ge.$$.fragment),Ft=S(),et=g("div"),tt=g("div"),K(ke.$$.fragment),zt=S(),vt=g("hr"),Ht=S(),Ae=g("div"),lt=g("div"),st=g("div"),bt=P(ft),Lt=S(),me=g("div"),je=g("div"),nt=g("div"),kt=P(ut),Rt=S(),dt=g("div"),K(I.$$.fragment),le=S(),q=g("div"),se=g("div"),we=P(Oe),Ie=S(),M=g("button"),ye.c(),_e=S(),J&&J.c(),qt=S(),wt=g("hr"),Al=S(),Pe=g("div"),Fe=g("div"),rt=g("div"),It=g("div"),ol=P(Wt),jl=S(),Ue=g("button"),Ve.c(),Ol=S(),re&&re.c(),Ml=S(),Z&&Z.c(),Bl=S(),cl=g("hr"),Pl=S(),Et=g("div"),K(ze.$$.fragment),Ul=S(),Dt=g("div"),K(He.$$.fragment),Hl=S(),yt=g("div"),K(Le.$$.fragment),Rl=S(),Vt=g("div"),K(Re.$$.fragment),Wl=S(),Tt=g("div"),K(qe.$$.fragment),Zl=S(),We=g("div"),at=g("div"),St=g("div"),fl=P(Jt),Gl=S(),Je=g("button"),Te.c(),Kl=S(),ae&&ae.c(),Xl=S(),Ct=g("div"),pe=g("button"),_t=g("div"),Se.c(),Yl=S(),G&&G.c(),this.h()},l(p){e=v(p,"FORM",{class:!0});var T=k(e);t=v(T,"DIV",{class:!0});var it=k(t);l=v(it,"DIV",{class:!0});var Ce=k(l);s=v(Ce,"BUTTON",{class:!0,type:!0});var Ze=k(s);Ee.l(Ze),i=C(Ze),r=v(Ze,"DIV",{class:!0,"data-svelte-h":!0}),ll(r)!=="svelte-tn89fj"&&(r.innerHTML=o),a=C(Ze),u=v(Ze,"DIV",{class:!0}),k(u).forEach(_),Ze.forEach(_),f=C(Ce),w=v(Ce,"DIV",{class:!0});var Zt=k(w);m=v(Zt,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ll(m)!=="svelte-j7b1b3"&&(m.textContent=b),Zt.forEach(_),Ce.forEach(_),it.forEach(_),D=C(T),y=v(T,"DIV",{class:!0});var O=k(y);A=v(O,"DIV",{class:!0});var ot=k(A);z=v(ot,"DIV",{class:!0});var Nt=k(z);L=v(Nt,"DIV",{});var Gt=k(L);H=v(Gt,"INPUT",{class:!0,placeholder:!0}),Gt.forEach(_),Nt.forEach(_),Be=C(ot),he=v(ot,"DIV",{class:!0});var Kt=k(he);E=v(Kt,"DIV",{});var Xt=k(E);B=v(Xt,"INPUT",{class:!0,placeholder:!0}),Xt.forEach(_),Kt.forEach(_),ot.forEach(_),Ne=C(O),ne&&ne.l(O),be=C(O),te=v(O,"DIV",{class:!0});var ht=k(te);oe=v(ht,"DIV",{class:!0});var mt=k(oe);de=v(mt,"DIV",{class:!0});var Yt=k(de);ct=F(Yt,Qe),Yt.forEach(_),Mt=C(mt),ce=v(mt,"BUTTON",{class:!0,type:!0,"aria-pressed":!0,"aria-label":!0});var Qt=k(ce);De.l(Qt),Qt.forEach(_),mt.forEach(_),Bt=C(ht),W&&W.l(ht),ht.forEach(_),Pt=C(O),$e=v(O,"DIV",{class:!0});var $t=k($e);xe=v($t,"DIV",{class:!0});var xt=k(xe);X(ge.$$.fragment,xt),xt.forEach(_),$t.forEach(_),Ft=C(O),et=v(O,"DIV",{class:!0});var el=k(et);tt=v(el,"DIV",{class:!0});var tl=k(tt);X(ke.$$.fragment,tl),tl.forEach(_),el.forEach(_),zt=C(O),vt=v(O,"HR",{class:!0}),Ht=C(O),Ae=v(O,"DIV",{class:!0});var vl=k(Ae);lt=v(vl,"DIV",{class:!0});var Ds=k(lt);st=v(Ds,"DIV",{class:!0});var ys=k(st);bt=F(ys,ft),ys.forEach(_),Ds.forEach(_),Lt=C(vl),me=v(vl,"DIV",{class:!0});var At=k(me);je=v(At,"DIV",{class:!0});var bl=k(je);nt=v(bl,"DIV",{class:!0});var Vs=k(nt);kt=F(Vs,ut),Vs.forEach(_),Rt=C(bl),dt=v(bl,"DIV",{});var Ts=k(dt);X(I.$$.fragment,Ts),Ts.forEach(_),bl.forEach(_),le=C(At),q=v(At,"DIV",{class:!0});var kl=k(q);se=v(kl,"DIV",{class:!0});var Ss=k(se);we=F(Ss,Oe),Ss.forEach(_),Ie=C(kl),M=v(kl,"BUTTON",{class:!0,type:!0});var Cs=k(M);ye.l(Cs),Cs.forEach(_),kl.forEach(_),_e=C(At),J&&J.l(At),At.forEach(_),vl.forEach(_),qt=C(O),wt=v(O,"HR",{class:!0}),Al=C(O),Pe=v(O,"DIV",{class:!0});var wl=k(Pe);Fe=v(wl,"DIV",{class:!0});var Il=k(Fe);rt=v(Il,"DIV",{class:!0});var El=k(rt);It=v(El,"DIV",{class:!0});var Ns=k(It);ol=F(Ns,Wt),Ns.forEach(_),jl=C(El),Ue=v(El,"BUTTON",{class:!0,type:!0});var As=k(Ue);Ve.l(As),As.forEach(_),El.forEach(_),Ol=C(Il),re&&re.l(Il),Il.forEach(_),Ml=C(wl),Z&&Z.l(wl),wl.forEach(_),Bl=C(O),cl=v(O,"HR",{class:!0}),Pl=C(O),Et=v(O,"DIV",{class:!0});var js=k(Et);X(ze.$$.fragment,js),js.forEach(_),Ul=C(O),Dt=v(O,"DIV",{class:!0});var Os=k(Dt);X(He.$$.fragment,Os),Os.forEach(_),Hl=C(O),yt=v(O,"DIV",{class:!0});var Ms=k(yt);X(Le.$$.fragment,Ms),Ms.forEach(_),Rl=C(O),Vt=v(O,"DIV",{class:!0});var Bs=k(Vt);X(Re.$$.fragment,Bs),Bs.forEach(_),Wl=C(O),Tt=v(O,"DIV",{class:!0});var Ps=k(Tt);X(qe.$$.fragment,Ps),Ps.forEach(_),Zl=C(O),We=v(O,"DIV",{class:!0});var Dl=k(We);at=v(Dl,"DIV",{class:!0});var yl=k(at);St=v(yl,"DIV",{class:!0});var Fs=k(St);fl=F(Fs,Jt),Fs.forEach(_),Gl=C(yl),Je=v(yl,"BUTTON",{class:!0,type:!0});var Us=k(Je);Te.l(Us),Us.forEach(_),yl.forEach(_),Kl=C(Dl),ae&&ae.l(Dl),Dl.forEach(_),Xl=C(O),Ct=v(O,"DIV",{class:!0});var zs=k(Ct);pe=v(zs,"BUTTON",{class:!0,type:!0});var Vl=k(pe);_t=v(Vl,"DIV",{class:!0});var Hs=k(_t);Se.l(Hs),Hs.forEach(_),Yl=C(Vl),G&&G.l(Vl),Vl.forEach(_),zs.forEach(_),O.forEach(_),T.forEach(_),this.h()},h(){h(r,"class","absolute bottom-0 right-0 z-10"),h(u,"class","absolute top-0 bottom-0 left-0 right-0 bg-white dark:bg-black rounded-lg opacity-0 group-hover:opacity-20 transition"),h(s,"class",d="rounded-xl flex shrink-0 items-center "+(n[14].meta.profile_image_url!==`${sl}/static/favicon.png`?"bg-transparent":"bg-white")+" shadow-xl group relative"),h(s,"type","button"),h(m,"class","px-2 py-1 text-gray-500 rounded-lg text-xs"),h(m,"type","button"),h(w,"class","flex w-full mt-1 justify-end"),h(l,"class","self-center"),h(t,"class","self-center md:self-start flex justify-center my-2 shrink-0"),h(H,"class","text-3xl font-semibold w-full bg-transparent outline-hidden"),h(H,"placeholder",$=n[23].t("Model Name")),H.required=!0,h(z,"class","flex-1"),h(B,"class","text-xs w-full bg-transparent text-gray-500 outline-hidden"),h(B,"placeholder",ie=n[23].t("Model ID")),B.disabled=n[2],B.required=!0,h(he,"class","flex-1"),h(A,"class","mt-2 my-2 flex flex-col"),h(de,"class","self-center text-sm font-semibold"),h(ce,"class","p-1 text-xs flex rounded-sm transition"),h(ce,"type","button"),h(ce,"aria-pressed",pt=n[12]?"true":"false"),h(ce,"aria-label",gt=n[12]?n[23].t("Custom description enabled"):n[23].t("Default description enabled")),h(oe,"class","mb-1 flex w-full justify-between items-center"),h(te,"class","my-1"),h(xe,"class",""),h($e,"class","mt-2 my-1"),h(tt,"class","px-3 py-2 bg-gray-50 dark:bg-gray-950 rounded-lg"),h(et,"class","my-2"),h(vt,"class","border-gray-100 dark:border-gray-850 my-1.5"),h(st,"class","self-center text-sm font-semibold"),h(lt,"class","flex w-full justify-between"),h(nt,"class","text-xs font-semibold mb-2"),h(je,"class","my-1"),h(se,"class","self-center text-xs font-semibold"),h(M,"class","p-1 px-3 text-xs flex rounded-sm transition"),h(M,"type","button"),h(q,"class","flex w-full justify-between"),h(me,"class","mt-2"),h(Ae,"class","my-2"),h(wt,"class","border-gray-100 dark:border-gray-850 my-1"),h(It,"class","self-center text-sm font-semibold"),h(Ue,"class","p-1 text-xs flex rounded-sm transition"),h(Ue,"type","button"),h(rt,"class","flex w-full justify-between items-center"),h(Fe,"class","flex w-full justify-between items-center"),h(Pe,"class","my-2"),h(cl,"class","border-gray-100 dark:border-gray-850 my-1.5"),h(Et,"class","my-2"),h(Dt,"class","my-2"),h(yt,"class","my-2"),h(Vt,"class","my-2"),h(Tt,"class","my-2"),h(St,"class","self-center text-sm font-semibold"),h(Je,"class","p-1 px-3 text-xs flex rounded-sm transition"),h(Je,"type","button"),h(at,"class","flex w-full justify-between mb-2"),h(We,"class","my-2 text-gray-300 dark:text-gray-700"),h(_t,"class","self-center font-medium"),h(pe,"class",ul="text-sm px-3 py-2 transition rounded-lg "+(n[5]?" cursor-not-allowed bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black":"bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black")+" flex w-full justify-center"),h(pe,"type","submit"),pe.disabled=n[5],h(Ct,"class","my-2 flex justify-end pb-20"),h(y,"class","w-full"),h(e,"class","flex flex-col md:flex-row w-full gap-3 md:gap-6")},m(p,T){j(p,e,T),c(e,t),c(t,l),c(l,s),Ee.m(s,null),c(s,i),c(s,r),c(s,a),c(s,u),c(l,f),c(l,w),c(w,m),c(e,D),c(e,y),c(y,A),c(A,z),c(z,L),c(L,H),Ye(H,n[4]),c(A,Be),c(A,he),c(he,E),c(E,B),Ye(B,n[11]),c(y,Ne),ne&&ne.m(y,null),c(y,be),c(y,te),c(te,oe),c(oe,de),c(de,ct),c(oe,Mt),c(oe,ce),De.m(ce,null),c(te,Bt),W&&W.m(te,null),c(y,Pt),c(y,$e),c($e,xe),Y(ge,xe,null),c(y,Ft),c(y,et),c(et,tt),Y(ke,tt,null),c(y,zt),c(y,vt),c(y,Ht),c(y,Ae),c(Ae,lt),c(lt,st),c(st,bt),c(Ae,Lt),c(Ae,me),c(me,je),c(je,nt),c(nt,kt),c(je,Rt),c(je,dt),Y(I,dt,null),c(me,le),c(me,q),c(q,se),c(se,we),c(q,Ie),c(q,M),ye.m(M,null),c(me,_e),J&&J.m(me,null),c(y,qt),c(y,wt),c(y,Al),c(y,Pe),c(Pe,Fe),c(Fe,rt),c(rt,It),c(It,ol),c(rt,jl),c(rt,Ue),Ve.m(Ue,null),c(Fe,Ol),re&&re.m(Fe,null),c(Pe,Ml),Z&&Z.m(Pe,null),c(y,Bl),c(y,cl),c(y,Pl),c(y,Et),Y(ze,Et,null),c(y,Ul),c(y,Dt),Y(He,Dt,null),c(y,Hl),c(y,yt),Y(Le,yt,null),c(y,Rl),c(y,Vt),Y(Re,Vt,null),c(y,Wl),c(y,Tt),Y(qe,Tt,null),c(y,Zl),c(y,We),c(We,at),c(at,St),c(St,fl),c(at,Gl),c(at,Je),Te.m(Je,null),c(We,Kl),ae&&ae.m(We,null),c(y,Xl),c(y,Ct),c(Ct,pe),c(pe,_t),Se.m(_t,null),c(pe,Yl),G&&G.m(pe,null),x=!0,Ql||(es=[ee(s,"click",n[35]),ee(m,"click",n[36]),ee(H,"input",n[37]),ee(B,"input",n[38]),ee(ce,"click",n[42]),ee(M,"click",n[48]),ee(Ue,"click",n[50]),ee(Je,"click",n[59]),ee(e,"submit",Sn(n[60]))],Ql=!0)},p(p,T){var Kt,Xt,ht,mt,Yt,Qt,$t,xt,el,tl;dl===(dl=ts(p))&&Ee?Ee.p(p,T):(Ee.d(1),Ee=dl(p),Ee&&(Ee.c(),Ee.m(s,i))),(!x||T[0]&4210688&&d!==(d="rounded-xl flex shrink-0 items-center "+(p[14].meta.profile_image_url!==`${sl}/static/favicon.png`?"bg-transparent":"bg-white")+" shadow-xl group relative"))&&h(s,"class",d),(!x||T[0]&8388608&&$!==($=p[23].t("Model Name")))&&h(H,"placeholder",$),T[0]&16&&H.value!==p[4]&&Ye(H,p[4]),(!x||T[0]&8388608&&ie!==(ie=p[23].t("Model ID")))&&h(B,"placeholder",ie),(!x||T[0]&4)&&(B.disabled=p[2]),T[0]&2048&&B.value!==p[11]&&Ye(B,p[11]),p[3]?ne?ne.p(p,T):(ne=on(p),ne.c(),ne.m(y,be)):ne&&(ne.d(1),ne=null),(!x||T[0]&8388608)&&Qe!==(Qe=p[23].t("Description")+"")&&U(ct,Qe),_l===(_l=ls(p))&&De?De.p(p,T):(De.d(1),De=_l(p),De&&(De.c(),De.m(ce,null))),(!x||T[0]&4096&&pt!==(pt=p[12]?"true":"false"))&&h(ce,"aria-pressed",pt),(!x||T[0]&8392704&&gt!==(gt=p[12]?p[23].t("Custom description enabled"):p[23].t("Default description enabled")))&&h(ce,"aria-label",gt),p[12]?W?(W.p(p,T),T[0]&4096&&V(W,1)):(W=fn(p),W.c(),V(W,1),W.m(te,null)):W&&(fe(),N(W,1,1,()=>{W=null}),ue());const it={};T[0]&16384&&(it.tags=((Xt=(Kt=p[14])==null?void 0:Kt.meta)==null?void 0:Xt.tags)??[]),ge.$set(it);const Ce={};T[0]&16777216&&(Ce.allowPublic=((Yt=(mt=(ht=p[24])==null?void 0:ht.permissions)==null?void 0:mt.sharing)==null?void 0:Yt.public_models)||((Qt=p[24])==null?void 0:Qt.role)==="admin"),!Ut&&T[0]&2097152&&(Ut=!0,Ce.accessControl=p[21],Ge(()=>Ut=!1)),ke.$set(Ce),(!x||T[0]&8388608)&&ft!==(ft=p[23].t("Model Params")+"")&&U(bt,ft),(!x||T[0]&8388608)&&ut!==(ut=p[23].t("System Prompt")+"")&&U(kt,ut);const Ze={};!R&&T[0]&8192&&(R=!0,Ze.value=p[13],Ge(()=>R=!1)),I.$set(Ze),(!x||T[0]&8388608)&&Oe!==(Oe=p[23].t("Advanced Params")+"")&&U(we,Oe),hl===(hl=rs(p))&&ye?ye.p(p,T):(ye.d(1),ye=hl(p),ye&&(ye.c(),ye.m(M,null))),p[8]?J?(J.p(p,T),T[0]&256&&V(J,1)):(J=un(p),J.c(),V(J,1),J.m(me,null)):J&&(fe(),N(J,1,1,()=>{J=null}),ue()),(!x||T[0]&8388608)&&Wt!==(Wt=p[23].t("Prompt suggestions")+"")&&U(ol,Wt),ml===(ml=as(p))&&Ve?Ve.p(p,T):(Ve.d(1),Ve=ml(p),Ve&&(Ve.c(),Ve.m(Ue,null))),(((xt=($t=p[14])==null?void 0:$t.meta)==null?void 0:xt.suggestion_prompts)??null)!==null?re?re.p(p,T):(re=dn(p),re.c(),re.m(Fe,null)):re&&(re.d(1),re=null),(tl=(el=p[14])==null?void 0:el.meta)!=null&&tl.suggestion_prompts?Z?(Z.p(p,T),T[0]&16384&&V(Z,1)):(Z=_n(p),Z.c(),V(Z,1),Z.m(Pe,null)):Z&&(fe(),N(Z,1,1,()=>{Z=null}),ue());const Zt={};!Fl&&T[0]&131072&&(Fl=!0,Zt.selectedItems=p[17],Ge(()=>Fl=!1)),ze.$set(Zt);const O={};T[0]&33554432&&(O.tools=p[25]),!zl&&T[0]&262144&&(zl=!0,O.selectedToolIds=p[18],Ge(()=>zl=!1)),He.$set(O);const ot={};T[0]&67108864&&(ot.filters=p[26].filter(gn)),!Ll&&T[0]&524288&&(Ll=!0,ot.selectedFilterIds=p[19],Ge(()=>Ll=!1)),Le.$set(ot);const Nt={};T[0]&67108864&&(Nt.actions=p[26].filter(vn)),!ql&&T[0]&1048576&&(ql=!0,Nt.selectedActionIds=p[20],Ge(()=>ql=!1)),Re.$set(Nt);const Gt={};!Jl&&T[0]&65536&&(Jl=!0,Gt.capabilities=p[16],Ge(()=>Jl=!1)),qe.$set(Gt),(!x||T[0]&8388608)&&Jt!==(Jt=p[23].t("JSON Preview")+"")&&U(fl,Jt),pl===(pl=ds(p))&&Te?Te.p(p,T):(Te.d(1),Te=pl(p),Te&&(Te.c(),Te.m(Je,null))),p[9]?ae?ae.p(p,T):(ae=mn(p),ae.c(),ae.m(We,null)):ae&&(ae.d(1),ae=null),gl===(gl=_s(p))&&Se?Se.p(p,T):(Se.d(1),Se=gl(p),Se&&(Se.c(),Se.m(_t,null))),p[5]?G?T[0]&32&&V(G,1):(G=pn(),G.c(),V(G,1),G.m(pe,null)):G&&(fe(),N(G,1,1,()=>{G=null}),ue()),(!x||T[0]&32&&ul!==(ul="text-sm px-3 py-2 transition rounded-lg "+(p[5]?" cursor-not-allowed bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black":"bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black")+" flex w-full justify-center"))&&h(pe,"class",ul),(!x||T[0]&32)&&(pe.disabled=p[5])},i(p){x||(V(W),V(ge.$$.fragment,p),V(ke.$$.fragment,p),V(I.$$.fragment,p),V(J),V(Z),V(ze.$$.fragment,p),V(He.$$.fragment,p),V(Le.$$.fragment,p),V(Re.$$.fragment,p),V(qe.$$.fragment,p),V(G),x=!0)},o(p){N(W),N(ge.$$.fragment,p),N(ke.$$.fragment,p),N(I.$$.fragment,p),N(J),N(Z),N(ze.$$.fragment,p),N(He.$$.fragment,p),N(Le.$$.fragment,p),N(Re.$$.fragment,p),N(qe.$$.fragment,p),N(G),x=!1},d(p){p&&_(e),Ee.d(),ne&&ne.d(),De.d(),W&&W.d(),Q(ge),Q(ke),Q(I),ye.d(),J&&J.d(),Ve.d(),re&&re.d(),Z&&Z.d(),Q(ze),Q(He),Q(Le),Q(Re),Q(qe),Te.d(),ae&&ae.d(),Se.d(),G&&G.d(),Ql=!1,Cl(es)}}}function rr(n){let e,t;return{c(){e=g("img"),this.h()},l(l){e=v(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){$l(e.src,t=sl+"/static/favicon.png")||h(e,"src",t),h(e,"alt","model profile"),h(e,"class","rounded-xl size-72 md:size-60 object-cover shrink-0")},m(l,s){j(l,e,s)},p:jt,d(l){l&&_(e)}}}function ar(n){let e,t;return{c(){e=g("img"),this.h()},l(l){e=v(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){$l(e.src,t=n[14].meta.profile_image_url)||h(e,"src",t),h(e,"alt","model profile"),h(e,"class","rounded-xl size-72 md:size-60 object-cover shrink-0")},m(l,s){j(l,e,s)},p(l,s){s[0]&4210688&&!$l(e.src,t=l[14].meta.profile_image_url)&&h(e,"src",t)},d(l){l&&_(e)}}}function on(n){let e,t,l=n[23].t("Base Model (From)")+"",s,i,r,o,a,u=n[23].t("Select a base model")+"",d,f,w,m=ve(n[22].filter(n[39])),b=[];for(let D=0;D<m.length;D+=1)b[D]=cn(sn(n,m,D));return{c(){e=g("div"),t=g("div"),s=P(l),i=S(),r=g("div"),o=g("select"),a=g("option"),d=P(u);for(let D=0;D<b.length;D+=1)b[D].c();this.h()},l(D){e=v(D,"DIV",{class:!0});var y=k(e);t=v(y,"DIV",{class:!0});var A=k(t);s=F(A,l),A.forEach(_),i=C(y),r=v(y,"DIV",{});var z=k(r);o=v(z,"SELECT",{class:!0,placeholder:!0});var L=k(o);a=v(L,"OPTION",{class:!0});var H=k(a);d=F(H,u),H.forEach(_);for(let $=0;$<b.length;$+=1)b[$].l(L);L.forEach(_),z.forEach(_),y.forEach(_),this.h()},h(){h(t,"class","text-sm font-semibold mb-1"),a.__value=null,Ye(a,a.__value),h(a,"class","text-gray-900"),h(o,"class","text-sm w-full bg-transparent outline-hidden"),h(o,"placeholder","Select a base model (e.g. llama3, gpt-4o)"),o.required=!0,n[14].base_model_id===void 0&&Cn(()=>n[40].call(o)),h(e,"class","my-1")},m(D,y){j(D,e,y),c(e,t),c(t,s),c(e,i),c(e,r),c(r,o),c(o,a),c(a,d);for(let A=0;A<b.length;A+=1)b[A]&&b[A].m(o,null);Ls(o,n[14].base_model_id,!0),f||(w=[ee(o,"change",n[40]),ee(o,"change",n[41])],f=!0)},p(D,y){if(y[0]&8388608&&l!==(l=D[23].t("Base Model (From)")+"")&&U(s,l),y[0]&8388608&&u!==(u=D[23].t("Select a base model")+"")&&U(d,u),y[0]&4194305){m=ve(D[22].filter(D[39]));let A;for(A=0;A<m.length;A+=1){const z=sn(D,m,A);b[A]?b[A].p(z,y):(b[A]=cn(z),b[A].c(),b[A].m(o,null))}for(;A<b.length;A+=1)b[A].d(1);b.length=m.length}y[0]&4210688&&Ls(o,D[14].base_model_id)},d(D){D&&_(e),Ot(b,D),f=!1,Cl(w)}}}function cn(n){let e,t=n[0].name+"",l,s;return{c(){e=g("option"),l=P(t),this.h()},l(i){e=v(i,"OPTION",{class:!0});var r=k(e);l=F(r,t),r.forEach(_),this.h()},h(){e.__value=s=n[0].id,Ye(e,e.__value),h(e,"class","text-gray-900")},m(i,r){j(i,e,r),c(e,l)},p(i,r){r[0]&4194305&&t!==(t=i[0].name+"")&&U(l,t),r[0]&4194305&&s!==(s=i[0].id)&&(e.__value=s,Ye(e,e.__value))},d(i){i&&_(e)}}}function ir(n){let e,t=n[23].t("Custom")+"",l;return{c(){e=g("span"),l=P(t),this.h()},l(s){e=v(s,"SPAN",{class:!0});var i=k(e);l=F(i,t),i.forEach(_),this.h()},h(){h(e,"class","ml-2 self-center")},m(s,i){j(s,e,i),c(e,l)},p(s,i){i[0]&8388608&&t!==(t=s[23].t("Custom")+"")&&U(l,t)},d(s){s&&_(e)}}}function or(n){let e,t=n[23].t("Default")+"",l;return{c(){e=g("span"),l=P(t),this.h()},l(s){e=v(s,"SPAN",{class:!0});var i=k(e);l=F(i,t),i.forEach(_),this.h()},h(){h(e,"class","ml-2 self-center")},m(s,i){j(s,e,i),c(e,l)},p(s,i){i[0]&8388608&&t!==(t=s[23].t("Default")+"")&&U(l,t)},d(s){s&&_(e)}}}function fn(n){let e,t,l;function s(r){n[43](r)}let i={className:" text-sm w-full bg-transparent outline-hidden resize-none overflow-y-hidden ",placeholder:n[23].t("Add a short description about what this model does")};return n[14].meta.description!==void 0&&(i.value=n[14].meta.description),e=new bn({props:i}),Me.push(()=>Ke(e,"value",s)),{c(){K(e.$$.fragment)},l(r){X(e.$$.fragment,r)},m(r,o){Y(e,r,o),l=!0},p(r,o){const a={};o[0]&8388608&&(a.placeholder=r[23].t("Add a short description about what this model does")),!t&&o[0]&16384&&(t=!0,a.value=r[14].meta.description,Ge(()=>t=!1)),e.$set(a)},i(r){l||(V(e.$$.fragment,r),l=!0)},o(r){N(e.$$.fragment,r),l=!1},d(r){Q(e,r)}}}function cr(n){let e,t=n[23].t("Show")+"",l;return{c(){e=g("span"),l=P(t),this.h()},l(s){e=v(s,"SPAN",{class:!0});var i=k(e);l=F(i,t),i.forEach(_),this.h()},h(){h(e,"class","ml-2 self-center")},m(s,i){j(s,e,i),c(e,l)},p(s,i){i[0]&8388608&&t!==(t=s[23].t("Show")+"")&&U(l,t)},d(s){s&&_(e)}}}function fr(n){let e,t=n[23].t("Hide")+"",l;return{c(){e=g("span"),l=P(t),this.h()},l(s){e=v(s,"SPAN",{class:!0});var i=k(e);l=F(i,t),i.forEach(_),this.h()},h(){h(e,"class","ml-2 self-center")},m(s,i){j(s,e,i),c(e,l)},p(s,i){i[0]&8388608&&t!==(t=s[23].t("Hide")+"")&&U(l,t)},d(s){s&&_(e)}}}function un(n){let e,t,l,s;function i(o){n[49](o)}let r={admin:!0,custom:!0};return n[15]!==void 0&&(r.params=n[15]),t=new Bn({props:r}),Me.push(()=>Ke(t,"params",i)),{c(){e=g("div"),K(t.$$.fragment),this.h()},l(o){e=v(o,"DIV",{class:!0});var a=k(e);X(t.$$.fragment,a),a.forEach(_),this.h()},h(){h(e,"class","my-2")},m(o,a){j(o,e,a),Y(t,e,null),s=!0},p(o,a){const u={};!l&&a[0]&32768&&(l=!0,u.params=o[15],Ge(()=>l=!1)),t.$set(u)},i(o){s||(V(t.$$.fragment,o),s=!0)},o(o){N(t.$$.fragment,o),s=!1},d(o){o&&_(e),Q(t)}}}function ur(n){let e,t=n[23].t("Custom")+"",l;return{c(){e=g("span"),l=P(t),this.h()},l(s){e=v(s,"SPAN",{class:!0});var i=k(e);l=F(i,t),i.forEach(_),this.h()},h(){h(e,"class","ml-2 self-center")},m(s,i){j(s,e,i),c(e,l)},p(s,i){i[0]&8388608&&t!==(t=s[23].t("Custom")+"")&&U(l,t)},d(s){s&&_(e)}}}function dr(n){let e,t=n[23].t("Default")+"",l;return{c(){e=g("span"),l=P(t),this.h()},l(s){e=v(s,"SPAN",{class:!0});var i=k(e);l=F(i,t),i.forEach(_),this.h()},h(){h(e,"class","ml-2 self-center")},m(s,i){j(s,e,i),c(e,l)},p(s,i){i[0]&8388608&&t!==(t=s[23].t("Default")+"")&&U(l,t)},d(s){s&&_(e)}}}function dn(n){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',l,s;return{c(){e=g("button"),e.innerHTML=t,this.h()},l(i){e=v(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ll(e)!=="svelte-1dicl8h"&&(e.innerHTML=t),this.h()},h(){h(e,"class","p-1 px-2 text-xs flex rounded-sm transition"),h(e,"type","button")},m(i,r){j(i,e,r),l||(s=ee(e,"click",n[51]),l=!0)},p:jt,d(i){i&&_(e),l=!1,s()}}}function _n(n){let e,t,l,s;const i=[hr,_r],r=[];function o(a,u){return a[14].meta.suggestion_prompts.length>0?0:1}return t=o(n),l=r[t]=i[t](n),{c(){e=g("div"),l.c(),this.h()},l(a){e=v(a,"DIV",{class:!0});var u=k(e);l.l(u),u.forEach(_),this.h()},h(){h(e,"class","flex flex-col space-y-1 mt-1 mb-3")},m(a,u){j(a,e,u),r[t].m(e,null),s=!0},p(a,u){let d=t;t=o(a),t===d?r[t].p(a,u):(fe(),N(r[d],1,1,()=>{r[d]=null}),ue(),l=r[t],l?l.p(a,u):(l=r[t]=i[t](a),l.c()),V(l,1),l.m(e,null))},i(a){s||(V(l),s=!0)},o(a){N(l),s=!1},d(a){a&&_(e),r[t].d()}}}function _r(n){let e,t="No suggestion prompts";return{c(){e=g("div"),e.textContent=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),ll(e)!=="svelte-18dnedh"&&(e.textContent=t),this.h()},h(){h(e,"class","text-xs text-center")},m(l,s){j(l,e,s)},p:jt,i:jt,o:jt,d(l){l&&_(e)}}}function hr(n){let e,t,l=ve(n[14].meta.suggestion_prompts),s=[];for(let r=0;r<l.length;r+=1)s[r]=hn(ln(n,l,r));const i=r=>N(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=Tl()},l(r){for(let o=0;o<s.length;o+=1)s[o].l(r);e=Tl()},m(r,o){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(r,o);j(r,e,o),t=!0},p(r,o){if(o[0]&8404992){l=ve(r[14].meta.suggestion_prompts);let a;for(a=0;a<l.length;a+=1){const u=ln(r,l,a);s[a]?(s[a].p(u,o),V(s[a],1)):(s[a]=hn(u),s[a].c(),V(s[a],1),s[a].m(e.parentNode,e))}for(fe(),a=l.length;a<s.length;a+=1)i(a);ue()}},i(r){if(!t){for(let o=0;o<l.length;o+=1)V(s[o]);t=!0}},o(r){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)N(s[o]);t=!1},d(r){r&&_(e),Ot(s,r)}}}function hn(n){let e,t,l,s,i,r,o,a,u,d;function f(){n[52].call(t,n[63],n[64])}r=new qn({props:{className:"size-4"}});function w(){return n[53](n[64])}return{c(){e=g("div"),t=g("input"),s=S(),i=g("button"),K(r.$$.fragment),o=S(),this.h()},l(m){e=v(m,"DIV",{class:!0});var b=k(e);t=v(b,"INPUT",{class:!0,placeholder:!0}),s=C(b),i=v(b,"BUTTON",{class:!0,type:!0});var D=k(i);X(r.$$.fragment,D),D.forEach(_),o=C(b),b.forEach(_),this.h()},h(){h(t,"class","text-sm w-full bg-transparent outline-hidden border-r border-gray-100 dark:border-gray-850"),h(t,"placeholder",l=n[23].t("Write a prompt suggestion (e.g. Who are you?)")),h(i,"class","px-2"),h(i,"type","button"),h(e,"class","flex rounded-lg")},m(m,b){j(m,e,b),c(e,t),Ye(t,n[62].content),c(e,s),c(e,i),Y(r,i,null),c(e,o),a=!0,u||(d=[ee(t,"input",f),ee(i,"click",w)],u=!0)},p(m,b){n=m,(!a||b[0]&8388608&&l!==(l=n[23].t("Write a prompt suggestion (e.g. Who are you?)")))&&h(t,"placeholder",l),b[0]&4210688&&t.value!==n[62].content&&Ye(t,n[62].content)},i(m){a||(V(r.$$.fragment,m),a=!0)},o(m){N(r.$$.fragment,m),a=!1},d(m){m&&_(e),Q(r),u=!1,Cl(d)}}}function mr(n){let e,t=n[23].t("Show")+"",l;return{c(){e=g("span"),l=P(t),this.h()},l(s){e=v(s,"SPAN",{class:!0});var i=k(e);l=F(i,t),i.forEach(_),this.h()},h(){h(e,"class","ml-2 self-center")},m(s,i){j(s,e,i),c(e,l)},p(s,i){i[0]&8388608&&t!==(t=s[23].t("Show")+"")&&U(l,t)},d(s){s&&_(e)}}}function pr(n){let e,t=n[23].t("Hide")+"",l;return{c(){e=g("span"),l=P(t),this.h()},l(s){e=v(s,"SPAN",{class:!0});var i=k(e);l=F(i,t),i.forEach(_),this.h()},h(){h(e,"class","ml-2 self-center")},m(s,i){j(s,e,i),c(e,l)},p(s,i){i[0]&8388608&&t!==(t=s[23].t("Hide")+"")&&U(l,t)},d(s){s&&_(e)}}}function mn(n){let e,t,l;return{c(){e=g("div"),t=g("textarea"),this.h()},l(s){e=v(s,"DIV",{});var i=k(e);t=v(i,"TEXTAREA",{class:!0,rows:!0}),k(t).forEach(_),i.forEach(_),this.h()},h(){h(t,"class","text-sm w-full bg-transparent outline-hidden resize-none"),h(t,"rows","10"),t.value=l=JSON.stringify(n[14],null,2),t.disabled=!0,t.readOnly=!0},m(s,i){j(s,e,i),c(e,t)},p(s,i){i[0]&4210688&&l!==(l=JSON.stringify(s[14],null,2))&&(t.value=l)},d(s){s&&_(e)}}}function gr(n){let e=n[23].t("Save & Create")+"",t;return{c(){t=P(e)},l(l){t=F(l,e)},m(l,s){j(l,t,s)},p(l,s){s[0]&8388608&&e!==(e=l[23].t("Save & Create")+"")&&U(t,e)},d(l){l&&_(t)}}}function vr(n){let e=n[23].t("Save & Update")+"",t;return{c(){t=P(e)},l(l){t=F(l,e)},m(l,s){j(l,t,s)},p(l,s){s[0]&8388608&&e!==(e=l[23].t("Save & Update")+"")&&U(t,e)},d(l){l&&_(t)}}}function pn(n){let e,t,l;return t=new Rn({}),{c(){e=g("div"),K(t.$$.fragment),this.h()},l(s){e=v(s,"DIV",{class:!0});var i=k(e);X(t.$$.fragment,i),i.forEach(_),this.h()},h(){h(e,"class","ml-1.5 self-center")},m(s,i){j(s,e,i),Y(t,e,null),l=!0},i(s){l||(V(t.$$.fragment,s),l=!0)},o(s){N(t.$$.fragment,s),l=!1},d(s){s&&_(e),Q(t)}}}function br(n){let e,t,l=n[10]&&nn(n);return{c(){l&&l.c(),e=Tl()},l(s){l&&l.l(s),e=Tl()},m(s,i){l&&l.m(s,i),j(s,e,i),t=!0},p(s,i){s[10]?l?(l.p(s,i),i[0]&1024&&V(l,1)):(l=nn(s),l.c(),V(l,1),l.m(e.parentNode,e)):l&&(fe(),N(l,1,1,()=>{l=null}),ue())},i(s){t||(V(l),t=!0)},o(s){N(l),t=!1},d(s){s&&_(e),l&&l.d(s)}}}const gn=n=>n.type==="filter",vn=n=>n.type==="action";function kr(n,e,t){let l,s,i,r,o;Xe(n,An,I=>t(22,l=I)),Xe(n,jn,I=>t(24,i=I)),Xe(n,Rs,I=>t(25,r=I)),Xe(n,qs,I=>t(26,o=I));const a=rl("i18n");Xe(n,a,I=>t(23,s=I));let{onSubmit:u}=e,{onBack:d=null}=e,{model:f=null}=e,{edit:w=!1}=e,{preset:m=!0}=e,b=!1,D,y,A=!1,z=!1,L=!1,H="",$="",Be=!0,he="",E={id:"",base_model_id:null,name:"",meta:{profile_image_url:`${sl}/static/favicon.png`,description:"",suggestion_prompts:null,tags:[]},params:{system:""}},B={system:""},ie={vision:!0,file_upload:!0,web_search:!0,image_generation:!0,code_interpreter:!0,citations:!0,usage:void 0},Ne=[],be=[],te=[],oe=[],de={};const Qe=I=>{var le,q;const R=l.find(se=>se.id===I);R&&(R.owned_by==="openai"?t(16,ie.usage=((q=(le=R==null?void 0:R.meta)==null?void 0:le.capabilities)==null?void 0:q.usage)??!1,ie):delete ie.usage,t(16,ie))},ct=async()=>{t(5,b=!0),t(14,E.id=H,E),t(14,E.name=$,E),H===""&&Ws.error("Model ID is required."),$===""&&Ws.error("Model Name is required."),t(14,E.params={...E.params,...B},E),t(14,E.access_control=de,E),t(14,E.meta.capabilities=ie,E),Be?t(14,E.meta.description=E.meta.description.trim()===""?null:E.meta.description,E):t(14,E.meta.description=null,E),Ne.length>0?t(14,E.meta.knowledge=Ne,E):E.meta.knowledge&&delete E.meta.knowledge,be.length>0?t(14,E.meta.toolIds=be,E):E.meta.toolIds&&delete E.meta.toolIds,te.length>0?t(14,E.meta.filterIds=te,E):E.meta.filterIds&&delete E.meta.filterIds,oe.length>0?t(14,E.meta.actionIds=oe,E):E.meta.actionIds&&delete E.meta.actionIds,t(14,E.params.system=he.trim()===""?null:he,E),t(14,E.params.stop=B.stop?B.stop.split(",").filter(I=>I.trim()):null,E),Object.keys(E.params).forEach(I=>{(E.params[I]===""||E.params[I]===null)&&delete E.params[I]}),await u(E),t(5,b=!1)};Sl(async()=>{var R,le,q,se,Oe,we,Ie;await Rs.set(await Un(localStorage.token)),await qs.set(await zn(localStorage.token)),await On.set([...await Hn(localStorage.token)]);const I=document.getElementById("workspace-container");if(I&&(I.scrollTop=0),f){if(t(4,$=f.name),await Tn(),t(11,H=f.id),t(12,Be=((R=f==null?void 0:f.meta)==null?void 0:R.description)!==null),f.base_model_id){const M=l.filter(_e=>!(_e!=null&&_e.preset)&&!((_e==null?void 0:_e.arena)??!1)).find(_e=>[f.base_model_id,`${f.base_model_id}:latest`].includes(_e.id));M?t(0,f.base_model_id=M.id,f):t(0,f.base_model_id=null,f)}t(13,he=((le=f==null?void 0:f.params)==null?void 0:le.system)??""),t(15,B={...B,...f==null?void 0:f.params}),t(15,B.stop=B!=null&&B.stop?(typeof B.stop=="string"?B.stop.split(","):(B==null?void 0:B.stop)??[]).join(","):null,B),t(18,be=((q=f==null?void 0:f.meta)==null?void 0:q.toolIds)??[]),t(19,te=((se=f==null?void 0:f.meta)==null?void 0:se.filterIds)??[]),t(20,oe=((Oe=f==null?void 0:f.meta)==null?void 0:Oe.actionIds)??[]),t(17,Ne=(((we=f==null?void 0:f.meta)==null?void 0:we.knowledge)??[]).map(M=>M!=null&&M.collection_name&&(M==null?void 0:M.type)!=="file"?{id:M.collection_name,name:M.name,legacy:!0}:M!=null&&M.collection_names?{name:M.name,type:"collection",collection_names:M.collection_names,legacy:!0}:M)),t(16,ie={...ie,...((Ie=f==null?void 0:f.meta)==null?void 0:Ie.capabilities)??{}}),"access_control"in f?t(21,de=f.access_control):t(21,de={}),f==null||f.access_control,t(14,E={...E,...JSON.parse(JSON.stringify(f||{id:f.id,name:f.name}))})}t(10,L=!0)});const Mt=()=>{d()};function ce(I){Me[I?"unshift":"push"](()=>{D=I,t(6,D)})}function pt(){y=this.files,t(7,y)}const gt=()=>{let I=new FileReader;I.onload=R=>{let le=`${R.target.result}`;const q=new Image;q.src=le,q.onload=function(){const se=document.createElement("canvas"),Oe=se.getContext("2d"),we=q.width/q.height;let Ie,M;we>1?(Ie=250*we,M=250):(Ie=250,M=250/we),se.width=250,se.height=250;const _e=(250-Ie)/2,qt=(250-M)/2;Oe.drawImage(q,_e,qt,Ie,M);const wt=se.toDataURL();t(14,E.meta.profile_image_url=wt,E),t(7,y=null),t(6,D.value="",D)}},y&&y.length>0&&["image/gif","image/webp","image/jpeg","image/png","image/svg+xml"].includes(y[0].type)?I.readAsDataURL(y[0]):(`${y[0].type}`,t(7,y=null))},Bt=()=>{D.click()},Pt=()=>{t(14,E.meta.profile_image_url=`${sl}/static/favicon.png`,E)};function $e(){$=this.value,t(4,$)}function xe(){H=this.value,t(11,H),t(2,w),t(4,$)}const ge=I=>(f?I.id!==f.id:!0)&&!(I!=null&&I.preset)&&(I==null?void 0:I.owned_by)!=="arena";function Ft(){E.base_model_id=Nn(this),t(14,E)}const et=I=>{Qe(I.target.value)},tt=()=>{t(12,Be=!Be)};function ke(I){n.$$.not_equal(E.meta.description,I)&&(E.meta.description=I,t(14,E))}const Ut=I=>{const R=I.detail;t(14,E.meta.tags=E.meta.tags.filter(le=>le.name!==R),E)},zt=I=>{var le;const R=I.detail;((le=E==null?void 0:E.meta)==null?void 0:le.tags)??null?t(14,E.meta.tags=[...E.meta.tags,{name:R}],E):t(14,E.meta.tags=[{name:R}],E)};function vt(I){de=I,t(21,de)}function Ht(I){he=I,t(13,he)}const Ae=()=>{t(8,A=!A)};function lt(I){B=I,t(15,B)}const st=()=>{var I;(((I=E==null?void 0:E.meta)==null?void 0:I.suggestion_prompts)??null)===null?t(14,E.meta.suggestion_prompts=[{content:""}],E):t(14,E.meta.suggestion_prompts=null,E)},ft=()=>{(E.meta.suggestion_prompts.length===0||E.meta.suggestion_prompts.at(-1).content!=="")&&t(14,E.meta.suggestion_prompts=[...E.meta.suggestion_prompts,{content:""}],E)};function bt(I,R){I[R].content=this.value,t(14,E)}const Lt=I=>{E.meta.suggestion_prompts.splice(I,1),t(14,E)};function me(I){Ne=I,t(17,Ne)}function je(I){be=I,t(18,be)}function nt(I){te=I,t(19,te)}function ut(I){oe=I,t(20,oe)}function kt(I){ie=I,t(16,ie)}const Rt=()=>{t(9,z=!z)},dt=()=>{ct()};return n.$$set=I=>{"onSubmit"in I&&t(30,u=I.onSubmit),"onBack"in I&&t(1,d=I.onBack),"model"in I&&t(0,f=I.model),"edit"in I&&t(2,w=I.edit),"preset"in I&&t(3,m=I.preset)},n.$$.update=()=>{n.$$.dirty[0]&20&&(w||$&&t(11,H=$.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-]/g,"").toLowerCase()))},[f,d,w,m,$,b,D,y,A,z,L,H,Be,he,E,B,ie,Ne,be,te,oe,de,l,s,i,r,o,a,Qe,ct,u,Mt,ce,pt,gt,Bt,Pt,$e,xe,ge,Ft,et,tt,ke,Ut,zt,vt,Ht,Ae,lt,st,ft,bt,Lt,me,je,nt,ut,kt,Rt,dt]}class zr extends al{constructor(e){super(),il(this,e,kr,br,nl,{onSubmit:30,onBack:1,model:0,edit:2,preset:3},null,[-1,-1,-1])}}export{zr as M};
//# sourceMappingURL=Ez4qhjiP.js.map
